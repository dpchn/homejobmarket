<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
"http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd">


<struts-config>
	<form-beans>
		<form-bean name="register" type="com.hm.app.form.RegisterForm" />
		<form-bean name="login" type="com.hm.app.form.LoginForm" />
		<form-bean name="getDetails" type="com.hm.app.form.GetDetailsForm" />
		<form-bean name="job" type="com.hm.app.form.JobForm" />
		<form-bean name="update" type="com.hm.app.form.UpdateForm" />
		<form-bean name="apply" type="com.hm.app.form.ApplyJobForm" />
	</form-beans>

	<action-mappings>
		<action path="/error" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/error.jsp" />


		<action path="/reg" name="register" type="com.hm.app.action.RegisterAction"
			scope="request" validate="true" input="/register.jsp">
			<forward name="seeker" path="/seekerProfile.jsp" />
			<forward name="sitter" path="/sitterProfile.jsp" />
			<forward name="error" path="/WEB-INF/error.jsp" />
		</action>


		<action path="/auth/login" name="login" validate="false"  type="com.hm.app.action.LoginAction"> 
			<forward name="success" path="/login.jsp" /> </action>

		<action path="/auth/captureLogin" name="login"
			type="com.hm.app.action.LoginCaptureAction" validate="true" input="/login.jsp">
			<forward name="seeker" path="/seeker/seekerProfile.do" redirect="true" />
			<forward name="sitter" path="/sitter/sitterProfile.do" redirect="true" />
			<forward name="error" path="/error.do" />
		</action>

		<action path="/seeker/seekerProfile" type="org.apache.struts.actions.ForwardAction"
			parameter="/seekerProfile.jsp" />
			
		<action path="/sitter/sitterProfile" type="org.apache.struts.actions.ForwardAction"
			parameter="/sitterProfile.jsp" />

		<!-- =================================Logout================================================ -->

		<action path="/seeker/logout" type="com.hm.app.action.LogoutAction"
			scope="request">
			<forward name="success" path="/index.jsp" redirect="true" />
			<forward name="error" path="/WEB-INF/error.jsp" />
		</action>
		
		<action path="/sitter/logout" type="com.hm.app.action.LogoutAction"
			scope="request">
			<forward name="success" path="/index.jsp"  redirect="true" />
			<forward name="error" path="/WEB-INF/error.jsp" />
		</action>

		<!--==================================Update================================================== -->

		<action path="/seeker/update" type="com.hm.app.action.UpdateAction" name="update" validate="false">
		<forward name="success" path="/seekerProfileUpdate.jsp"/>
		</action>
		
		<action path="/sitter/update" type="com.hm.app.action.UpdateAction" name="update" validate="false">
		<forward name="success" path="/sitterProfileUpdate.jsp"/>
		</action>
	
		

			
		<action path="/seeker/captureUpdate" name="update" validate="true"
			type="com.hm.app.action.UpdateCaptureAction" input="/seeker/update.do">
			<forward name="seeker" path="/seeker/seekerProfile.do" />
			<forward name="sitter" path="/sitter/sitterProfile.do" />
		</action>
		
		<action path="/sitter/captureUpdate" name="update" validate="true"
			type="com.hm.app.action.UpdateCaptureAction" input="/sitter/update.do">
			<forward name="seeker" path="/seeker/seekerProfile.do" />
			<forward name="sitter" path="/sitter/sitterProfile.do" />
		</action>
		<!--==================================================================================== -->

		<!--=============================Job Create======================================================= -->
		<action path="/seeker/job" type="com.hm.app.action.JobAction">
			<forward name="success" path="/jobCreate.jsp"  redirect="true"/>
		</action>

		<action path="/seeker/captureJob" name="job" validate="true"
			type="com.hm.app.action.JobCaptureAction" input="/jobCreate.jsp" >
			<forward name="success" path="/seeker/seekerProfile.do" />
			<forward name="error" path="/error.do" />
		</action>

		<!-- ====================================Get All Job========================================================== -->
		<action path="/auth/jobList" type="com.hm.app.action.JobAction">
			<forward name="/authsuccess" path="/sitter/jobList.do" />
		</action>
				
		<action path="/sitter/jobList" type="com.hm.app.action.GetAllJobAction">
			<forward name="success" path="/jobList.jsp" />
		</action>
		<!-- ========================================================================================= -->



		<!-- ======================================Apply Job=============================================== -->

		<action path="/sitter/applyJob" name="apply"
			type="com.hm.app.action.ApplyJobAction" scope="request" validate="false"
			input="/jobList.jsp">
			<forward name="error" path="/error.do" />
			<forward name="success" path="/sitter/sitterProfile.do" />
		</action>

		<!-- ===================================================================================== -->

		<!-- ================================Account Deactivate============================================= -->
		<!-- Account Dactivate -->
		<action path="/accountDeactivate" type="com.hm.app.action.DeactivateAction"
			scope="request" validate="false">
			<forward name="success" path="/index.jsp" />
			<forward name="error" path="/error.do" />
		</action>

		<action path="/accountDeactivate" type="com.hm.app.action.DeactivateAction"
			scope="request" validate="false" input="/sitterProfile.jsp">
			<forward name="success" path="/index.jsp" />
			<forward name="error" path=" /WEB-INF/error.jsp" />
		</action>
	</action-mappings>



	<controller>
		<set-property property="processorClass" value="com.hm.app.util.OwnRequestProcessor" />
	</controller>

	<!-- <controller processorClass="hm.com.register.RegisterProcessor" /> -->
	<message-resources parameter="messages" />

	<!-- <message-resources parameter="validatormsg" /> -->


	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,
                             /WEB-INF/homeJob_validator.xml" />
	</plug-in>
</struts-config>